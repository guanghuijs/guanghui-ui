import{m as c,d as C,r as k,i as E,c as m,g as o,j as g,F as y,k as G,o as d,v as $,u as a,_ as b}from"./index-3981fe78.js";const S=()=>{const u=[{name:"机身颜色",items:[{name:"红色",isToggle:!0,image:""},{name:"蓝色",isToggle:!0,image:""},{name:"午夜色",isToggle:!0,image:""},{name:"新光色",isToggle:!0,image:""},{name:"紫色",isToggle:!0,image:""}]},{name:"存储容量",items:[{name:"128G",isToggle:!0},{name:"256G",isToggle:!0},{name:"512G",isToggle:!0},{name:"1TB",isToggle:!0}]},{name:"网络类型",items:[{name:"5G全网通",isToggle:!0},{name:"5G电信",isToggle:!0},{name:"5G移动",isToggle:!0},{name:"5G联通",isToggle:!0}]}],n=[];for(let r=0;r<20;r++)n.push({stock:c.Random.integer(50,800),price:c.Random.float(6e3,1e4,2,2),difference:`${u[0].items[c.Random.integer(0,4)].name};${u[1].items[c.Random.integer(0,3)].name};${u[2].items[c.Random.integer(0,3)].name}`,legend:c.Random.image("100x100",c.mock("@color"),c.mock("color"),"商品")});return{specific:u,goodsSpec:n}},j={class:"container"},w={class:"spec-top flex-between"},F={class:"spec-top-left"},P={class:"goods-base-info"},z={class:"specific"},A={class:"spec-item-tag"},D=["onClick"],L=C({__name:"index",setup(u){const n=k(S().specific),r=S().goodsSpec,l=k([]),f=k([]),R=(s,e,i,t)=>{t&&(a(l)[e]!=s?(l.value[e]=s,f.value[e]=i):(l.value[e]="",f.value[e]=-1),B())},B=()=>{const s=[];for(const e in a(n))s[e]=a(l)[e]?a(l)[e]:"";for(const e in a(n)){const i=s[e];for(const t in a(n)[e].items)s[e]=a(n)[e].items[t].name,n.value[e].items[t].isToggle=x(s);s[e]=i}},x=s=>{for(const e in s)if(s[e]==="")return!0;for(const e in r)if(r[e].difference===s.join(";"))return!0},_=E(()=>{const s=a(l).filter(t=>t).join(";");let e=0,i=0;try{r.forEach(t=>{if(t.difference===s)throw e=t.stock,i=t.price,new Error;e=0,i=0})}catch(t){console.log(t)}return{specString:s,result:{stock:e,price:i}}});return(s,e)=>(d(),m("div",j,[o("div",w,[o("div",F,[e[0]||(e[0]=o("img",null,null,-1)),o("div",P,[o("div",null,"￥"+g(_.value.result.price),1),o("p",null,"库存:"+g(_.value.result.stock),1),o("span",null,g(_.value.specString),1)])])]),o("div",z,[(d(!0),m(y,null,G(n.value,({name:i,items:t},p)=>(d(),m("div",{class:"spec-item",key:p},[o("p",null,g(i),1),o("div",A,[(d(!0),m(y,null,G(t,({name:v,isToggle:T},h)=>(d(),m("span",{key:v,class:$([T?"":"noProduct",f.value[p]===h?"active":""]),onClick:M=>R(v,p,h,T)},g(v),11,D))),128))])]))),128))])]))}});const q=b(L,[["__scopeId","data-v-56328261"]]);export{q as default};
