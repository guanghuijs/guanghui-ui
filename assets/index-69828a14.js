import{m as c}from"./mock-22270600.js";import{d as C,r as k,h as E,c as u,g as o,t as g,F as y,i as G,o as d,n as $,u as a,_ as b}from"./index-4a9eefc9.js";import"@ghui/components";const S=()=>{const m=[{name:"机身颜色",items:[{name:"红色",isToggle:!0,image:""},{name:"蓝色",isToggle:!0,image:""},{name:"午夜色",isToggle:!0,image:""},{name:"新光色",isToggle:!0,image:""},{name:"紫色",isToggle:!0,image:""}]},{name:"存储容量",items:[{name:"128G",isToggle:!0},{name:"256G",isToggle:!0},{name:"512G",isToggle:!0},{name:"1TB",isToggle:!0}]},{name:"网络类型",items:[{name:"5G全网通",isToggle:!0},{name:"5G电信",isToggle:!0},{name:"5G移动",isToggle:!0},{name:"5G联通",isToggle:!0}]}],n=[];for(let r=0;r<20;r++)n.push({stock:c.Random.integer(50,800),price:c.Random.float(6e3,1e4,2,2),difference:`${m[0].items[c.Random.integer(0,4)].name};${m[1].items[c.Random.integer(0,3)].name};${m[2].items[c.Random.integer(0,3)].name}`,legend:c.Random.image("100x100",c.mock("@color"),c.mock("color"),"商品")});return{specific:m,goodsSpec:n}},w={class:"container"},j={class:"spec-top flex-between"},F={class:"spec-top-left"},P={class:"goods-base-info"},z={class:"specific"},A={class:"spec-item-tag"},D=["onClick"],L=C({__name:"index",setup(m){const n=k(S().specific),r=S().goodsSpec,l=k([]),f=k([]),R=(t,e,i,s)=>{s&&(a(l)[e]!=t?(l.value[e]=t,f.value[e]=i):(l.value[e]="",f.value[e]=-1),B())},B=()=>{const t=[];for(const e in a(n))t[e]=a(l)[e]?a(l)[e]:"";for(const e in a(n)){const i=t[e];for(const s in a(n)[e].items)t[e]=a(n)[e].items[s].name,n.value[e].items[s].isToggle=x(t);t[e]=i}},x=t=>{for(const e in t)if(t[e]==="")return!0;for(const e in r)if(r[e].difference===t.join(";"))return!0},p=E(()=>{const t=a(l).filter(s=>s).join(";");let e=0,i=0;try{r.forEach(s=>{if(s.difference===t)throw e=s.stock,i=s.price,new Error;e=0,i=0})}catch(s){console.log(s)}return{specString:t,result:{stock:e,price:i}}});return(t,e)=>(d(),u("div",w,[o("div",j,[o("div",F,[e[0]||(e[0]=o("img",null,null,-1)),o("div",P,[o("div",null,"￥"+g(p.value.result.price),1),o("p",null,"库存:"+g(p.value.result.stock),1),o("span",null,g(p.value.specString),1)])])]),o("div",z,[(d(!0),u(y,null,G(n.value,({name:i,items:s},_)=>(d(),u("div",{class:"spec-item",key:_},[o("p",null,g(i),1),o("div",A,[(d(!0),u(y,null,G(s,({name:v,isToggle:T},h)=>(d(),u("span",{key:v,class:$([T?"":"noProduct",f.value[_]===h?"active":""]),onClick:M=>R(v,_,h,T)},g(v),11,D))),128))])]))),128))])]))}});const J=b(L,[["__scopeId","data-v-56328261"]]);export{J as default};
