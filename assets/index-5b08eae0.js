import{m as a}from"./mock-22270600.js";import{d as B,r as h,q as w,c as m,g as o,n as g,F as S,f as y,p as C,i as E,o as d,x as $,u as r,_ as j}from"./index-0d1ede7e.js";const G=()=>{const n=[{name:"机身颜色",items:[{name:"红色",isToggle:!0,image:""},{name:"蓝色",isToggle:!0,image:""},{name:"午夜色",isToggle:!0,image:""},{name:"新光色",isToggle:!0,image:""},{name:"紫色",isToggle:!0,image:""}]},{name:"存储容量",items:[{name:"128G",isToggle:!0},{name:"256G",isToggle:!0},{name:"512G",isToggle:!0},{name:"1TB",isToggle:!0}]},{name:"网络类型",items:[{name:"5G全网通",isToggle:!0},{name:"5G电信",isToggle:!0},{name:"5G移动",isToggle:!0},{name:"5G联通",isToggle:!0}]}],i=[];for(let l=0;l<20;l++)i.push({stock:a.Random.integer(50,800),price:a.Random.float(6e3,1e4,2,2),difference:`${n[0].items[a.Random.integer(0,4)].name};${n[1].items[a.Random.integer(0,3)].name};${n[2].items[a.Random.integer(0,3)].name}`,legend:a.Random.image("100x100",a.mock("@color"),a.mock("color"),"商品")});return{specific:n,goodsSpec:i}},F=n=>(C("data-v-abe10644"),n=n(),E(),n),P={class:"container"},q={class:"spec-top flex-between"},z={class:"spec-top-left"},A=F(()=>o("img",null,null,-1)),D={class:"goods-base-info"},L={class:"specific"},M={class:"spec-item-tag"},V=["onClick"],H=B({__name:"index",setup(n){const i=h(G().specific),l=G().goodsSpec,u=h([]),p=h([]),b=(s,e,c,t)=>{t&&(r(u)[e]!=s?(u.value[e]=s,p.value[e]=c):(u.value[e]="",p.value[e]=-1),R())},R=()=>{const s=[];for(const e in r(i))s[e]=r(u)[e]?r(u)[e]:"";for(const e in r(i)){const c=s[e];for(const t in r(i)[e].items)s[e]=r(i)[e].items[t].name,i.value[e].items[t].isToggle=x(s);s[e]=c}},x=s=>{for(const e in s)if(s[e]==="")return!0;for(const e in l)if(l[e].difference===s.join(";"))return!0},_=w(()=>{const s=r(u).filter(t=>t).join(";");let e=0,c=0;try{l.forEach(t=>{if(t.difference===s)throw e=t.stock,c=t.price,new Error;e=0,c=0})}catch(t){console.log(t)}return{specString:s,result:{stock:e,price:c}}});return(s,e)=>(d(),m("div",P,[o("div",q,[o("div",z,[A,o("div",D,[o("div",null,"￥"+g(_.value.result.price),1),o("p",null,"库存:"+g(_.value.result.stock),1),o("span",null,g(_.value.specString),1)])])]),o("div",L,[(d(!0),m(S,null,y(i.value,({name:c,items:t},f)=>(d(),m("div",{class:"spec-item",key:f},[o("p",null,g(c),1),o("div",M,[(d(!0),m(S,null,y(t,({name:v,isToggle:k},T)=>(d(),m("span",{key:v,class:$([k?"":"noProduct",p.value[f]===T?"active":""]),onClick:J=>b(v,f,T,k)},g(v),11,V))),128))])]))),128))])]))}});const O=j(H,[["__scopeId","data-v-abe10644"]]);export{O as default};
